/*
 * angular-tooltips
 * 1.0.4
 * 
 * Angular.js tooltips module.
 * http://720kb.github.io/angular-tooltips
 * 
 * MIT license
 * Wed Dec 02 2015
 */
!function(t,o){"use strict";var e="tooltips",i=function(){var t=[],e=0,i=function(i){i-e>=15?(t.forEach(function(t){t()}),e=i):o.console.log("Skipped!")},r=function(){o.requestAnimationFrame(i)},l=function(o){o&&t.push(o)};return{add:function(e){t.length||o.addEventListener("resize",r),l(e)}}}(),r=function(t){var i,r=o.document.createElement("div"),l=[{key:e,value:""}];return t.removeAttr(e),void 0!==t.attr("tooltip-template")&&(l.push({key:"tooltip-template",value:t.attr("tooltip-template")}),t.removeAttr("tooltip-template")),void 0!==t.attr("tooltip-template-url")&&(l.push({key:"tooltip-template-url",value:t.attr("tooltip-template-url")}),t.removeAttr("tooltip-template-url")),void 0!==t.attr("tooltip-controller")&&(l.push({key:"tooltip-controller",value:t.attr("tooltip-controller")}),t.removeAttr("tooltip-controller")),void 0!==t.attr("tooltip-side")&&(l.push({key:"tooltip-side",value:t.attr("tooltip-side")}),t.removeAttr("tooltip-side")),void 0!==t.attr("tooltip-show-trigger")&&(l.push({key:"tooltip-show-trigger",value:t.attr("tooltip-show-trigger")}),t.removeAttr("tooltip-show-trigger")),void 0!==t.attr("tooltip-hide-trigger")&&(l.push({key:"tooltip-hide-trigger",value:t.attr("tooltip-hide-trigger")}),t.removeAttr("tooltip-hide-trigger")),void 0!==t.attr("tooltip-smart")&&(l.push({key:"tooltip-smart",value:t.attr("tooltip-smart")}),t.removeAttr("tooltip-smart")),void 0!==t.attr("tooltip-class")&&(l.push({key:"tooltip-class",value:t.attr("tooltip-class")}),t.removeAttr("tooltip-class")),void 0!==t.attr("tooltip-close-button")&&(l.push({key:"tooltip-close-button",value:t.attr("tooltip-close-button")}),t.removeAttr("tooltip-close-button")),void 0!==t.attr("tooltip-size")&&(l.push({key:"tooltip-size",value:t.attr("tooltip-size")}),t.removeAttr("tooltip-size")),void 0!==t.attr("tooltip-speed")&&(l.push({key:"tooltip-speed",value:t.attr("tooltip-speed")}),t.removeAttr("tooltip-speed")),r.appendChild(t.clone()[0]),i=r.innerHTML,r=null,{text:i,attrs:l}},l=function(t,o,e){var i="",r=[];return t.attrs.forEach(function(t){t&&t.key&&(i+=t.key+'="'+t.value+'"')}),r=["<tooltip "+i+' class="tooltips">',"<tip-cont>",t.text,"</tip-cont>"],(o||e)&&(r=r.concat(['<tip class="_hidden">',"<tip-tip>",'<span id="close-button">&times;</span>',o,"</tip-tip>","<tip-arrow></tip-arrow>","</tip>"])),r.push("</tooltip>"),r.join(" ")},s=function(t){if(t){var e=t[0].getBoundingClientRect();return e.top<0||e.top>o.document.body.offsetHeight||e.left<0||e.left>o.document.body.offsetWidth||e.bottom<0||e.bottom>o.document.body.offsetHeight||e.right<0||e.right>o.document.body.offsetWidth?(t.css({top:"",left:"",bottom:"",right:""}),!0):!1}throw new Error("You must provide a position")},a=function(){var t={side:"top",showTrigger:"mouseover",hideTrigger:"mouseleave","class":"",smart:!1,closeButton:!1,size:"",speed:"steady"};return{configure:function(o){var e,i=Object.keys(t),r=0;if(o)for(;r<i.length;r+=1)e=i[r],e&&o[e]&&(t[e]=o[e])},$get:function(){return t}}},p=["$log","$http","$compile","$timeout","tooltipsConf",function(o,e,a,p,n){var d=function(o,l,d){var u,c="_"+n.side,m=n.showTrigger,v=n.hideTrigger,f=n.size,g="_"+n.speed,h=function(){return l.find("tip-cont").html()},C=function(){l.find("tip-cont")[0].getClientRects().length>1?l.addClass("_multiline"):l.removeClass("_multiline")},_=function(t){var o=l.find("tip");if(o.addClass("_hidden"),d.tooltipSmart)switch(d.tooltipSide){case"top":s(o)&&(l.removeClass("_top"),l.addClass("_left"),s(o)&&(l.removeClass("_left"),l.addClass("_bottom"),s(o)&&(l.removeClass("_bottom"),l.addClass("_right"),s(o)&&(l.removeClass("_right"),l.addClass("_top")))));break;case"left":s(o)&&(l.removeClass("_left"),l.addClass("_bottom"),s(o)&&(l.removeClass("_bottom"),l.addClass("_right"),s(o)&&(l.removeClass("_right"),l.addClass("_top"),s(o)&&(l.removeClass("_top"),l.addClass("_left")))));break;case"bottom":s(o)&&(l.removeClass("_bottom"),l.addClass("_left"),s(o)&&(l.removeClass("_left"),l.addClass("_top"),s(o)&&(l.removeClass("_top"),l.addClass("_right"),s(o)&&(l.removeClass("_right"),l.addClass("_bottom")))));break;case"right":s(o)&&(l.removeClass("_right"),l.addClass("_top"),s(o)&&(l.removeClass("_top"),l.addClass("_left"),s(o)&&(l.removeClass("_left"),l.addClass("_bottom"),s(o)&&(l.removeClass("_bottom"),l.addClass("_right")))));break;default:throw new Error("Position not supported")}o.removeClass("_hidden"),t&&"true"!==d.tooltipHidden&&l.addClass("active")},b=function(){l.removeClass("active")},w=function(t){t&&p(function(){_()})},y=function(t){t&&e.get(t).then(function(t){if(t&&t.data){var e=r(l.find("tip-tip").append(t.data)).text;l.find("tip-tip").replaceWith(a(e)(o)),p(function(){_()})}})},k=function(t){t&&(l.find("tip-tip").attr("ng-controller",t),x())},T=function(t){t&&(c&&l.removeAttr("_"+c),l.addClass("_"+t),c=t)},S=function(t){t&&(m&&l.off(m),l.on(t,_),m=t)},$=function(t){t&&(v&&l.off(v),l.on(t,b),v=t)},A=function(t){var o=l.find("tip");t&&(u&&o.removeClass(u),o.addClass(t),u=t)},z=function(){"boolean"!=typeof d.tooltipSmart&&(d.tooltipSmart="true"===d.tooltipSmart)},E=function(o){var e=t.element(l.find("tip-tip").children()[0]),i="true"===o;i?(e.on("click",b),e.css("display","block")):(e.off("click"),e.css("display","none"))},H=function(t){var o=l.find("tip-tip");t&&(f&&o.removeClass("_"+f),o.addClass("_"+t),f=t)},B=function(t){t&&(g&&l.removeClass("_"+g),l.addClass("_"+t),g=t)},U=d.$observe("tooltipTemplate",w),W=d.$observe("tooltipTemplateUrl",y),x=d.$observe("tooltipController",k),Y=d.$observe("tooltipSide",T),j=d.$observe("tooltipShowTrigger",S),L=d.$observe("tooltipHideTrigger",$),R=d.$observe("tooltipClass",A),q=d.$observe("tooltipSmart",z),F=d.$observe("tooltipCloseButton",E),M=d.$observe("tooltipSize",H),O=d.$observe("tooltipSpeed",B),P=o.$watch(h,C);d.tooltipSide=d.tooltipSide||n.side,d.tooltipShowTrigger=d.tooltipShowTrigger||n.showTrigger,d.tooltipHideTrigger=d.tooltipHideTrigger||n.hideTrigger,d.tooltipClass=d.tooltipClass||n["class"],d.tooltipSmart="true"===d.tooltipSmart||n.smart,d.tooltipCloseButton="true"===d.tooltipCloseButton||n.closeButton,d.tooltipSize=d.tooltipSize||n.size,d.tooltipSpeed=d.tooltipSpeed||n.speed,i.add(function(){C(),_()}),p(function(){_(),l.find("tip").removeClass("_hidden"),l.addClass("_ready")}),o.$on("$destroy",function(){U(),W(),Y(),j(),L(),R(),q(),F(),M(),O(),P(),l.off(d.tooltipShowTrigger+" "+d.tooltipHideTrigger)})};return{restrict:"A",scope:!0,compile:function(t,o){if(o.tooltipTemplate&&o.tooltipTemplateUrl)throw new Error("You can not define tooltip-template and tooltip-url together");if(!o.tooltipTemplateUrl&&!o.tooltipTemplate&&o.tooltipController)throw new Error("You can not have a controller without a template or templateUrl defined");var e=r(t),i=l(e,o.tooltipTemplate,!!o.tooltipTemplateUrl);return t.replaceWith(i),d}}}];t.module("720kb.tooltips",[]).provider(e+"Conf",a).directive(e,p)}(angular,window);
//# sourceMappingURL=angular-tooltips.js.map
